datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Admin {
  id          String        @id @default(uuid())
  email       String        @unique @db.VarChar(255)
  password    String
  name        String?       @db.Text
  role        String? 
  Boss        Boss[]
  User        User[]

  @@map("admins")
}

model Boss {
  id         String       @id @default(uuid())
  email      String       @unique @db.VarChar(255)
  password   String
  name       String?      @db.Text
  role       String? 
  admin      Admin?       @relation(fields: [adminId], references: [id])
  adminId    String?      
  User       User[]

  @@map("bosses")
}

model User {
  id          String        @id @default(uuid())
  name        String?
  email       String        @unique @db.VarChar(255)
  password    String
  role        String? 
  admin       Admin?        @relation(fields: [adminId], references: [id])
  adminId     String?
  boss        Boss?         @relation(fields: [bossId], references: [id])
  bossId      String?

  @@map("users")
}